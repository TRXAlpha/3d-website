<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Ping Pong Game</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Add event listener for paddle movement
        document.addEventListener('keydown', (event) => {
          const paddle1 = document.querySelector('#paddle1');
          switch (event.key) {
            case 'i':
              paddle1.object3D.position.y += 0.1;
              paddle1.setAttribute('position', paddle1.object3D.position);
              break;
            case 'k':
              paddle1.object3D.position.y -= 0.1;
              paddle1.setAttribute('position', paddle1.object3D.position);
              break;
          }
        });

        function moveAIPaddle() {
          const paddle2 = document.querySelector('#paddle2');
          const ball = document.querySelector('#ball');

          if (ball.object3D.position.y > paddle2.object3D.position.y) {
            paddle2.object3D.position.y += 0.05;
            paddle2.setAttribute('position', paddle2.object3D.position);
          } else if (ball.object3D.position.y < paddle2.object3D.position.y) {
            paddle2.object3D.position.y -= 0.05;
            paddle2.setAttribute('position', paddle2.object3D.position);
          }

          requestAnimationFrame(moveAIPaddle);
        }

        moveAIPaddle();
      });
    </script>
  </head>
  <body>
    <a-scene physics="gravity: -9.8">
      <!-- Ping Pong Table -->
      <a-box position="0 0.5 0" depth="10" height="0.2" width="5" color="#2E8B57" static-body></a-box> <!-- Sea Green -->

      <!-- Paddles -->
      <a-box id="paddle1" position="-2.3 1 0" depth="0.2" height="1" width="0.2" color="blue" static-body></a-box>
      <a-box id="paddle2" position="2.3 1 0" depth="0.2" height="1" width="0.2" color="red" static-body></a-box>

      <!-- Ball -->
      <a-sphere id="ball" position="0 1 0" radius="0.2" color="white" dynamic-body></a-sphere>

      <!-- Japan Scenery -->
      <a-entity environment="preset: japan"></a-entity>
    </a-scene>
  </body>
</html>
